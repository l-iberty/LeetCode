# 42. Trapping Rain Water
```cpp
  int trap(vector<int> &height) {
    int ans = 0, max_height = INT32_MIN, max_idx = -1;
    int max_h_left = INT32_MIN, max_h_right = INT32_MIN;

    for (int i = 0; i < height.size(); i++) {
      if (max_height < height[i]) {
        max_height = height[i];
        max_idx = i;
      }
    }

    for (int i = 0; i < max_idx; i++) {
      max_h_left = max(max_h_left, height[i]);
      ans += max_h_left - height[i];
    }
    for (int i = height.size() - 1; i > max_idx; i--) {
      max_h_right = max(max_h_right, height[i]);
      ans += max_h_right - height[i];
    }
    return ans;
  }
```